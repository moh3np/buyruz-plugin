# یادداشت‌های تغییرات RM FAQ Accordion

تمام نسخه‌ها باید در این فایل ثبت شوند. هنگام انتشار نسخهٔ جدید:
- عنوان نسخه را با فرمت `## [x.y.z] - YYYY-MM-DD` اضافه کنید.
- تغییرات را به زبان فارسی و کاملاً کاربرمحور توضیح دهید.
- در صورت نیاز به اقدام اضافه (مثل پاک‌سازی کش یا تنظیمات)، آن را در بند جداگانه ذکر کنید.

## [1.3.11] - 2025-10-24
- اضافه‌شدن کارت «دیباگ و لاگ‌ها» در تنظیمات برای فعال‌سازی لاگ‌گیری بخش‌های مختلف (شروع با فرآیند به‌روزرسانی افزونه).
- ثبت لاگ کامل از تمامی درخواست‌ها، پاسخ‌ها، تصمیمات کش و خطاهای سیستم بروزرسانی در فایل‌های روزانه (`logs/rfa-update-*.log`).
- امکان ماسک خودکار توکن‌ها و داده‌های حساس، انتخاب مدت نگهداری (۱ تا ۳۰ روز) و مشاهدهٔ مسیر فایل‌ها از داخل پیشخوان.
- پاکسازی خودکار لاگ‌های قدیمی و اضافه‌شدن هوک‌های دیباگ در خط سیر کامل بروزرسانی برای سهولت عیب‌یابی.

## [1.3.10] - 2025-10-24
- همگام‌سازی مستندات با الزام جدید: هر تغییر باید بلافاصله همراه با نسخهٔ تازه به GitHub پوش شود تا اختلاف نسخه/کد رخ ندهد.
- افزایش نسخهٔ افزونه به 1.3.10 برای هماهنگی با تغییرات مستندات و جلوگیری از تکرار خطای نسخه.

## [1.3.9] - 2025-10-24
- بازنویسی سیستم به‌روزرسانی GitHub با پشتیبانی از ریپوی عمومی بدون توکن، تنظیم اختیاری شاخه و تطبیق خودکار با ریلیزها یا فایل نسخهٔ شاخهٔ انتخابی.
- اعمال هدرهای امنیتی/Authorization روی تمام دامنه‌های دانلود گیت‌هاب، همراه با Allowlist خودکار هنگام فعال بودن `WP_HTTP_BLOCK_EXTERNAL`.
- نمایش پیام‌های خطای شفاف با کد وضعیت، تشخیص محدودیت نرخ و پاک‌سازی کش هنگام `force-check` یا اجرای WP-CLI.
- جلوگیری از ساخت پوشهٔ تکراری پس از نصب آپدیت به کمک تغییر نام منبع استخراج‌شده به پوشهٔ فعلی افزونه.

## [1.3.8] - 2025-10-24
- رفع خطای کشنده هنگام «بررسی دوباره» که به خاطر پاسخ نامعتبر در سیستم به‌روزرسانی وردپرس رخ می‌داد؛ اکنون اتصال نامعتبر گیت‌هاب بدون توقف داشبورد مدیریت نادیده گرفته می‌شود.
- افزایش تاب‌آوری سیستم به‌روزرسانی در برابر داده‌های غیرمنتظره و تهی تا فرآیند بررسی نسخه همیشه کامل شود.

## [1.3.7] - 2025-10-23
- اجرای منطق آکاردئون تنها روی درخواست‌های فرانت‌اند؛ بررسی‌های مدیریتی و کران‌ها دیگر درگیر فیلترهای Rank Math نمی‌شوند.
- تقویت سازگاری با اسکیماهای غیرمعمول به‌گونه‌ای که ساختارهای شیء یا داده‌های ناقص بدون هشدار کنار گذاشته شوند.

## [1.3.5] - 2025-10-23
- جلوگیری از اجرای فیلتر آکاردئون FAQ در نواحی ادمین و درخواست‌های غیرصفحه‌ای برای پرهیز از بروز خطا هنگام بررسی به‌روزرسانی‌ها.
- افزایش پایداری هنگام پردازش اسکیماهایی که ساختار غیرمنتظره دارند.

## [1.3.4] - 2025-10-23
- رفع هشدارهای Rank Math هنگام پردازش اسکیماهایی که کلید `@type` ندارند؛ اکنون فیلتر آکاردئون تنها روی اسکیماهای معتبر اعمال می‌شود.

## [1.3.3] - 2025-10-23
- بازطراحی کامل صفحهٔ تنظیمات با رابط کارت‌محور، هماهنگ با زبان فارسی و آماده برای افزودن ماژول‌های آینده.
- افزودن راهنمای توسعه داخل پنل برای تاکید بر UX مدرن، پاکسازی دیتابیس و استفاده از بهترین الگوهای مهندسی.
- استایل اختصاصی برای صفحهٔ ادمین و یادآوری اصول عملکردی در `CONTRIBUTING.md`.

## [1.3.2] - 2025-10-23
- رفع مشکل عدم نمایش فوری به‌روزرسانی: کش نسخهٔ جدید اکنون حین «بررسی مجدد» پاک می‌شود و هر بار اتصال تازه به گیت‌هاب برقرار می‌گردد.
- کاهش زمان کش نتیجهٔ گیت‌هاب به ۱۰ دقیقه و پاک‌سازی خودکار پس از نصب نسخهٔ جدید.

## [1.3.1] - 2025-10-23
- نمایش تعداد روز باقی‌مانده برای اعتبار توکن گیت‌هاب در صفحهٔ تنظیمات (به‌جای تاریخ و ساعت دقیق).

## [1.3.0] - 2025-10-23
- پشتیبانی از اسکیما و شورت‌کد FAQ افزونه Rank Math: تبدیل خودکار محتوا به آکاردئون با استایل بایروز.
- تشخیص خودکار FAQ در نوشته‌ها و محصولات حتی زمانی که فقط از سازندهٔ اسکیما استفاده شده باشد.

## [1.2.2] - 2025-10-23
- بازنویسی توضیح افزونه در فهرست وردپرس برای معرفی پنل تنظیمات بایروز و حذف لینک اضافه.
- افزودن دکمهٔ «تنظیمات» در لیست افزونه‌ها برای دسترسی مستقیم به صفحهٔ مدیریت.
- نمایش خلاصهٔ تغییرات نسخهٔ جدید هنگام انتشار به عنوان اعلان به‌روزرسانی در وردپرس.

## [1.2.1] - 2025-10-23
- نمایش توکن ذخیره‌شدهٔ گیت‌هاب در صفحهٔ تنظیمات برای جلوگیری از خالی بودن فیلد پس از ذخیره و امکان ویرایش سریع‌تر.

## [1.2.0] - 2025-10-23
- تغییر نام افزونه به «تنظیمات بایروز» و افزودن لینک مستقیم به Codruz.ir در فهرست افزونه‌ها.
- جابه‌جایی صفحهٔ تنظیمات به منوی اصلی پیشخوان برای دسترسی سریع‌تر پیش از افزونهٔ دراگونایزر.
- به‌روزرسانی اسناد برای مسیرهای جدید و آماده‌سازی نسخهٔ تازه جهت انتشار.

## [1.1.0] - 2025-10-23
- افزودن سیستم بررسی و پیشنهاد به‌روزرسانی از مخزن خصوصی گیت‌هاب بدون نیاز به افزونهٔ جانبی.
- امکان ثبت، جایگزینی یا حذف توکن دسترسی گیت‌هاب از صفحهٔ تنظیمات افزونه همراه با نمایش تاریخ انقضای توکن (در صورت ارائهٔ GitHub).

## [1.0.1] - 2025-10-23
- به‌روزرسانی اطلاعات افزونه با نام «کُدروز» و لینک خانهٔ افزونه.
- افزایش نسخه به ۱٫۰٫۱ تا وردپرس امکان جایگزینی نسخه را نمایش دهد.

## [1.0.0] - 2025-10-23
- انتشار اولیهٔ افزونه با آکاردئون اختصاصی برای FAQهای Rank Math و بارگذاری شرطی فایل‌ها.
