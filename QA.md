# QA Notes

تاریخ: 2025-10-24

## چک‌های پذیرش

| سناریو | وضعیت | توضیحات |
| --- | --- | --- |
| ریپوی عمومی بدون توکن | نیازمند تست محیطی | منطق جدید بدون هدر Authorization درخواست را به شاخهٔ انتخابی می‌فرستد و با `force-check` کش ظرف ۱۰ دقیقه پاک می‌شود؛ برای تأیید باید روی وب‌سایت وردپرسی اعمال شود. |
| ریپوی خصوصی با توکن | نیازمند تست محیطی | تمامی دامنه‌های GitHub (از جمله `codeload`) حالا هدر Authorization دریافت می‌کنند؛ دانلود باید با توکن سطح `repo` انجام شود. |
| تغییر شاخهٔ به‌روزرسانی | نیازمند تست محیطی | مقدار فیلد شاخه و فیلتر `rfa_update_branch` روی همهٔ Endpointها اعمال می‌شود؛ پیشنهاد می‌شود با شاخه‌های مختلف در وردپرس بررسی شود. |
| انتشار ریلیز با تگ `vX.Y.Z` | نیازمند تست محیطی | نسخهٔ ریلیز در اولویت قرار می‌گیرد و از `zipball_url` استفاده می‌شود؛ در صورت نبود ریلیز به هدر فایل شاخه رجوع می‌کند. |
| نرخ‌محدودیت یا خطای 403/429 | نیازمند تست محیطی | پیام اعلان شامل کد وضعیت و متن خلاصه است و پیشنهاد افزودن توکن نمایش داده می‌شود؛ قابل مشاهده با شبیه‌سازی خطا در پیشخوان است. |
| جلوگیری از ایجاد پوشهٔ جدید | نیازمند تست محیطی | در فیلتر `upgrader_source_selection` پوشهٔ استخراج‌شده به نام افزونه فعلی تغییر می‌کند تا مقصد ثابت بماند؛ برای تأیید باید نصب به‌روزرسانی واقعی اجرا شود. |

## یادداشت‌ها

- تست خودکار در این مخزن اجرا نشده است. برای پوشش کامل، سناریوهای بالا باید در محیط وردپرس (PHP 7.4+ / WP 5.8+) بررسی شوند.
