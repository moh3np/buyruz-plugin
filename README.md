# تنظیمات بایروز (RM FAQ Accordion)

پنل «تنظیمات بایروز» مرکز کنترل برای همه‌ی قابلیت‌ها و تنظیمات اختصاصی بایروز است. از اینجا می‌توانید رفتار افزونه‌های بایروز را به شکل یکپارچه با نیازهای سایت هماهنگ کنید.

**بدست:** کُدروز  
**خانهٔ افزونه:** https://github.com/Codruz/buyruz-plugin.git
**نسخه:** 1.3.11

## محتوا
- [معرفی](#معرفی)
- [ویژگی‌ها](#ویژگیها)
- [پیش‌نیازها](#پیشنیازها)
- [نصب](#نصب)
- [نحوهٔ استفاده](#نحوهٔ-استفاده)
- [تنظیمات افزونه](#تنظیمات-افزونه)
- [توسعه و مشارکت](#توسعه-و-مشارکت)
- [به‌روزرسانی خودکار](#auto-update)
- [پشتیبانی](#پشتیبانی)
- [لایسنس](#لایسنس)
- [یادداشت‌های انتشار](#release-notes)

## معرفی
تنظیمات بایروز به شما کمک می‌کند همه‌ی امکانات و تنظیمات ویژه بایروز را از یک صفحه مدیریت کنید. هر تغییری که در این پنل انجام دهید به‌صورت مستقیم روی افزونه‌های بایروز اعمال می‌شود تا تجربه‌ای هماهنگ در سایت داشته باشید.

## ویژگی‌ها
- دسترسی سریع از منوی «پیشخوان → تنظیمات بایروز» برای مدیریت همه گزینه‌ها
- رابط تنظیمات مدرن با کارت‌های بخش‌بندی شده و قابل توسعه برای ماژول‌های آینده
- معرفی کوتاه و کاربرمحور در لیست افزونه‌ها تا مدیر سایت بداند این پنل چه کار می‌کند
- بارگذاری شرطی CSS/JS بر اساس حضور FAQ یا سلکتور سفارشی برای کاهش حجم صفحه
- تبدیل خودکار شورت‌کد و اسکیماهای FAQ افزونه Rank Math به آکاردئون قابل تعامل
- پشتیبانی کامل از لایه‌های RTL و موبایل با انیمیشن نرم و طراحی تمیز
- امکان تعیین رنگ برند، فعال یا غیرفعال کردن استایل، جاوااسکریپت، انیمیشن و حالت فشردهٔ موبایل
- حالت فقط یک سؤال باز (Single Open) برای تجربهٔ کاربری بهتر
- تشخیص FAQ به صورت خودکار از طریق بلوک‌های `rank-math/faq-block`, شورت‌کد `rank_math_faq` یا کلاس `rank-math-faq`
- تزریق دادهٔ سازگار با Rank Math بدون تغییر در محتوا یا ساختار HTML اصلی

## پیش‌نیازها
- WordPress 5.8 یا جدیدتر
- افزونه Rank Math SEO فعال برای تولید FAQ
- PHP 7.2 یا بالاتر (پیشنهاد می‌شود 7.4+)
- دسترسی مدیر (`manage_options`) برای پیکربندی

## نصب
1. مخزن را کلون کنید یا آخرین نسخه را دانلود کرده و در پوشهٔ `wp-content/plugins/buyruz-plugin` قرار دهید.
2. از مدیریت وردپرس به مسیر `افزونه‌ها → افزودن → بارگذاری افزونه` بروید و فایل فشرده را آپلود کنید یا پوشه را به صورت دستی در سرور کپی کنید.
3. افزونه را فعال کنید.

## نحوهٔ استفاده
1. در صفحات یا نوشته‌ها به کمک Rank Math یک FAQ Block یا شورت‌کد `rank_math_faq` ایجاد کنید.
2. به مسیر `پیشخوان → تنظیمات بایروز` بروید و گزینه‌های مورد نیاز را پیکربندی کنید.
3. در صورت نیاز به نمایش در صفحات خاص، حالت بارگذاری را روی «سلکتور سفارشی» گذاشته و کلاس یا شناسهٔ دلخواه را وارد کنید.

## تنظیمات افزونه
| گزینه | توضیح |
| --- | --- |
| **فعال‌سازی CSS** | بارگذاری استایل پیش‌فرض. در صورت غیرفعال بودن هیچ CSSی افزوده نمی‌شود. |
| **درون‌خطی کردن CSS** | استایل‌ها به صورت `inline` تزریق می‌شوند تا نیاز به فایل مجزا نباشد. |
| **رنگ برند** | تعیین رنگ حباب آیکون‌ها و المان‌های اصلی (`#ff5668` به صورت پیش‌فرض). |
| **فعال‌سازی JS** | بارگذاری اسکریپت آکاردئون. با غیرفعال کردن، FAQها به صورت باز/بستهٔ اولیه باقی می‌مانند. |
| **فقط یک مورد باز** | همواره فقط یک سؤال باز می‌ماند و بقیه بسته می‌شوند. |
| **انیمیشن نرم** | فعال یا غیرفعال کردن انیمیشن باز و بسته شدن. |
| **نسخهٔ موبایل فشرده** | اصلاح فاصله‌ها و اندازه‌ها برای نمایش بهتر در موبایل. |
| **حالت بارگذاری** | یکی از حالت‌های «خودکار»، «همهٔ صفحات» یا «سلکتور سفارشی». |
| **سلکتور سفارشی** | وقتی حالت بالا روی «سلکتور» است، افزونه تنها در صورت وجود این سلکتور فعال می‌شود. |
| **توکن دسترسی گیت‌هاب** | توکن خصوصی برای دسترسی به مخزن. برای حذف، گزینهٔ حذف را تیک بزنید. |
| **فعال‌سازی دیباگ** | هنگام فعال بودن، رخدادهای انتخاب‌شده به صورت لاگ در پوشهٔ افزونه ذخیره می‌شوند. |
| **بخش‌های قابل لاگ** | فعلاً شامل فرآیند به‌روزرسانی است و در آینده می‌تواند گسترش یابد. هر بخش به‌صورت مجزا قابل انتخاب است. |
| **ماسک داده‌های حساس** | در صورت فعال بودن، مقادیری مثل توکن یا هدرهای Authorization در لاگ‌ها با `[masked]` نمایش داده می‌شوند. |
| **مدت نگهداری لاگ** | تعیین می‌کند فایل‌های لاگ چند روز روی سرور باقی بمانند (پیش‌فرض ۷ روز، قابل تنظیم بین ۱ تا ۳۰ روز). |

## توسعه و مشارکت
- توسعه‌ی فعلی توسط تیم کُدروز انجام می‌شود.
- پیش از هر تغییری حتماً فایل [`CONTRIBUTING.md`](CONTRIBUTING.md) را مطالعه و چک‌لیست نسخه‌دهی اجباری را رعایت کنید.
- برای پیشنهاد یا اشکال جدید می‌توانید Pull Request ثبت کنید. پیش از ارسال، مطمئن شوید که استایل کدنویسی وردپرس رعایت شده و هیچ بستهٔ وابستگی اضافه‌ای نیاز ندارد.

<a id="auto-update"></a>

## به‌روزرسانی خودکار
- در مسیر `پیشخوان → تنظیمات بایروز` توکن گیت‌هاب خود را (مانند `github_pat_...`) وارد کنید. این توکن باید دسترسی خواندن مخزن خصوصی را داشته باشد.
- افزونه در پس‌زمینه نسخهٔ موجود در مخزن را بررسی می‌کند و هنگام وجود نسخهٔ جدید، در فهرست افزونه‌های وردپرس دکمهٔ «جایگزینی نسخه» نمایش داده می‌شود.
- اگر توکن منقضی شود یا مجوز کافی نداشته باشد، هشدار قرمز در صفحهٔ افزونه‌ها یا تنظیمات افزونه نشان داده می‌شود.
- برای حذف یا جایگزینی توکن، مقدار جدید را وارد کنید یا گزینهٔ «حذف توکن ذخیره‌شده» را تیک بزنید و ذخیره را بزنید.

## دیباگ و لاگ‌ها
- از کارت «دیباگ و لاگ‌ها» می‌توانید ثبت لاگ برای بخش‌های مختلف (فعلاً بروزرسانی) را فعال کنید.
- لاگ‌ها در مسیر `wp-content/plugins/buyruz-plugin/logs/` ذخیره می‌شوند و به صورت روزانه نام‌گذاری خواهند شد (مثلاً `rfa-update-YYYY-MM-DD.log`).
- گزینهٔ «ماسک داده‌های حساس» به صورت پیش‌فرض فعال است تا توکن‌ها یا هدرهای محرمانه در لاگ‌ها قابل خواندن نباشند.
- پاکسازی خودکار فایل‌های لاگ بر اساس تعداد روز تعیین‌شده انجام می‌شود؛ مقدار پیش‌فرض ۷ روز است تا فضا اشغال نشود.

## پشتیبانی
در صورت بروز مشکل یا پیشنهاد، در صفحهٔ Issues همین مخزن موضوع باز کنید: https://github.com/Codruz/buyruz-plugin/issues

## لایسنس
این پروژه دارای لایسنس اختصاصی است. متن کامل در فایل [`LICENSE`](LICENSE) موجود است. استفاده بدون اجازهٔ کتبی از کُدروز مجاز نیست.

<a id="release-notes"></a>

## یادداشت‌های انتشار
شرح فارسی تغییرات هر نسخه در [`CHANGELOG.md`](CHANGELOG.md) ثبت می‌شود. پیش از نصب نسخهٔ جدید، این فایل را برای آگاهی از تغییرات و اقدامات لازم مطالعه کنید.
# buyruz-plugin
